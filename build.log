2025-11-19 15:18:05,466 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:18:05,467 - INFO - 执行: 环境检查
2025-11-19 15:18:05,467 - INFO - ===== 检查构建环境 =====
2025-11-19 15:18:05,468 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:18:05,469 - INFO - 环境检查通过
2025-11-19 15:18:05,469 - INFO - 步骤完成: 环境检查
2025-11-19 15:18:05,469 - INFO - 执行: 安装Python依赖
2025-11-19 15:18:36,673 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:18:36,673 - INFO - 执行: 环境检查
2025-11-19 15:18:36,674 - INFO - ===== 检查构建环境 =====
2025-11-19 15:18:36,674 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:18:36,675 - INFO - 环境检查通过
2025-11-19 15:18:36,676 - INFO - 步骤完成: 环境检查
2025-11-19 15:18:36,676 - INFO - 执行: 安装Python依赖
2025-11-19 15:18:36,676 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:18:36,677 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:18:39,372 - INFO - 安装构建依赖: python-for-android==2023.10.08
2025-11-19 15:18:41,175 - ERROR - 安装Python依赖失败: Command '['/usr/bin/python3', '-m', 'pip', 'install', 'python-for-android==2023.10.08']' returned non-zero exit status 1.
2025-11-19 15:18:41,176 - ERROR - 步骤失败: 安装Python依赖
2025-11-19 15:19:58,267 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:19:58,268 - INFO - 执行: 环境检查
2025-11-19 15:19:58,268 - INFO - ===== 检查构建环境 =====
2025-11-19 15:19:58,269 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:19:58,270 - INFO - 环境检查通过
2025-11-19 15:19:58,270 - INFO - 步骤完成: 环境检查
2025-11-19 15:19:58,271 - INFO - 执行: 安装Python依赖
2025-11-19 15:19:58,271 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:19:58,272 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:20:01,551 - INFO - 安装构建依赖: python-for-android==2024.1.21
2025-11-19 15:20:03,877 - INFO - 安装构建依赖: importlib-metadata==4.8.3
2025-11-19 15:20:06,463 - INFO - 安装构建依赖: Cython==0.29.33
2025-11-19 15:20:09,094 - INFO - 从requirements.txt安装应用依赖
2025-11-19 15:20:12,330 - ERROR - 安装Python依赖失败: Command '['/usr/bin/python3', '-m', 'pip', 'install', '-r', 'requirements.txt']' returned non-zero exit status 1.
2025-11-19 15:20:12,331 - ERROR - 步骤失败: 安装Python依赖
2025-11-19 15:20:55,042 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:20:55,042 - INFO - 执行: 环境检查
2025-11-19 15:20:55,043 - INFO - ===== 检查构建环境 =====
2025-11-19 15:20:55,043 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:20:55,044 - INFO - 环境检查通过
2025-11-19 15:20:55,044 - INFO - 步骤完成: 环境检查
2025-11-19 15:20:55,045 - INFO - 执行: 安装Python依赖
2025-11-19 15:20:55,046 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:20:55,046 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:20:58,116 - INFO - 安装构建依赖: python-for-android==2024.1.21
2025-11-19 15:21:01,193 - INFO - 安装构建依赖: importlib-metadata==4.8.3
2025-11-19 15:21:03,942 - INFO - 安装构建依赖: Cython==0.29.33
2025-11-19 15:21:07,016 - INFO - 从requirements.txt安装应用依赖
2025-11-19 15:21:19,105 - ERROR - 安装Python依赖失败: Command '['/usr/bin/python3', '-m', 'pip', 'install', '-r', 'requirements.txt']' returned non-zero exit status 1.
2025-11-19 15:21:19,106 - ERROR - 步骤失败: 安装Python依赖
2025-11-19 15:21:47,485 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:21:47,486 - INFO - 执行: 环境检查
2025-11-19 15:21:47,486 - INFO - ===== 检查构建环境 =====
2025-11-19 15:21:47,487 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:21:47,488 - INFO - 环境检查通过
2025-11-19 15:21:47,489 - INFO - 步骤完成: 环境检查
2025-11-19 15:21:47,489 - INFO - 执行: 安装Python依赖
2025-11-19 15:21:47,490 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:21:47,490 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:21:50,320 - INFO - 安装构建依赖: python-for-android==2024.1.21
2025-11-19 15:21:53,266 - INFO - 安装构建依赖: importlib-metadata==4.8.3
2025-11-19 15:21:56,200 - INFO - 安装构建依赖: Cython==0.29.33
2025-11-19 15:21:59,115 - INFO - 从requirements.txt安装应用依赖
2025-11-19 15:22:15,848 - ERROR - 安装Python依赖失败: Command '['/usr/bin/python3', '-m', 'pip', 'install', '-r', 'requirements.txt']' returned non-zero exit status 1.
2025-11-19 15:22:15,849 - ERROR - 步骤失败: 安装Python依赖
2025-11-19 15:22:47,109 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:22:47,110 - INFO - 执行: 环境检查
2025-11-19 15:22:47,110 - INFO - ===== 检查构建环境 =====
2025-11-19 15:22:47,111 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:22:47,112 - INFO - 环境检查通过
2025-11-19 15:22:47,112 - INFO - 步骤完成: 环境检查
2025-11-19 15:22:47,112 - INFO - 执行: 安装Python依赖
2025-11-19 15:22:47,113 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:22:47,113 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:22:50,180 - INFO - 安装构建依赖: python-for-android==2024.1.21
2025-11-19 15:22:52,528 - INFO - 安装构建依赖: importlib-metadata==4.8.3
2025-11-19 15:22:55,334 - INFO - 安装构建依赖: Cython==0.29.33
2025-11-19 15:22:58,041 - INFO - 从requirements.txt安装应用依赖
2025-11-19 15:23:16,360 - ERROR - 安装Python依赖失败: Command '['/usr/bin/python3', '-m', 'pip', 'install', '-r', 'requirements.txt']' returned non-zero exit status 1.
2025-11-19 15:23:16,361 - ERROR - 步骤失败: 安装Python依赖
2025-11-19 15:23:57,102 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:23:57,102 - INFO - 执行: 环境检查
2025-11-19 15:23:57,102 - INFO - ===== 检查构建环境 =====
2025-11-19 15:23:57,102 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:23:57,103 - INFO - 环境检查通过
2025-11-19 15:23:57,103 - INFO - 步骤完成: 环境检查
2025-11-19 15:23:57,103 - INFO - 执行: 安装Python依赖
2025-11-19 15:23:57,103 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:23:57,103 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:23:58,305 - INFO - 安装构建依赖: python-for-android==2024.1.21
2025-11-19 15:23:59,577 - INFO - 安装构建依赖: importlib-metadata==4.8.3
2025-11-19 15:24:00,793 - INFO - 安装构建依赖: Cython==0.29.33
2025-11-19 15:24:02,008 - INFO - 从requirements.txt安装应用依赖
2025-11-19 15:25:06,683 - INFO - Python依赖安装成功
2025-11-19 15:25:06,684 - INFO - 步骤完成: 安装Python依赖
2025-11-19 15:25:06,684 - INFO - 执行: 设置环境变量
2025-11-19 15:25:06,684 - INFO - ===== 设置环境变量 =====
2025-11-19 15:25:06,685 - INFO - JAVA_HOME: /usr/lib/jvm/java-11-openjdk-amd64
2025-11-19 15:25:06,685 - INFO - ANDROID_HOME: ./android-sdk
2025-11-19 15:25:06,686 - INFO - 步骤完成: 设置环境变量
2025-11-19 15:25:06,686 - INFO - 执行: 构建APK
2025-11-19 15:25:06,686 - INFO - ===== 开始构建APK =====
2025-11-19 15:25:06,687 - INFO - 执行命令: p4a apk --name SalaryCalculator --package org.test.salarycalculator --version 1.0 --orientation portrait --window fullscreen --private . --output-dir output --arch armeabi-v7a --sdk-dir ./android-sdk --ndk-api 28 --sdk-version 28 --log-level 2 --requirements kivy==2.3.0,certifi==2023.7.22,pyjnius==1.5.2,openpyxl==3.1.2,pandas==2.0.3,matplotlib==3.7.2,reportlab==3.6.12,requests==2.31.0,numpy==1.25.2
2025-11-19 15:25:09,719 - INFO - 构建完成，耗时: 3.03 秒
2025-11-19 15:25:09,720 - ERROR - APK构建失败，返回码: 1
2025-11-19 15:25:09,720 - ERROR - 步骤失败: 构建APK
2025-11-19 15:28:30,088 - INFO - 已加载用户配置: config/build_config.json
2025-11-19 15:28:30,089 - INFO - 执行: 环境检查
2025-11-19 15:28:30,089 - INFO - ===== 检查构建环境 =====
2025-11-19 15:28:30,089 - INFO - Python版本: 3.8.10 (default, Mar 18 2025, 20:04:55) 
[GCC 9.4.0]
2025-11-19 15:28:30,089 - INFO - 环境检查通过
2025-11-19 15:28:30,090 - INFO - 步骤完成: 环境检查
2025-11-19 15:28:30,090 - INFO - 执行: 安装Python依赖
2025-11-19 15:28:30,090 - INFO - ===== 安装Python依赖 =====
2025-11-19 15:28:30,090 - INFO - 安装构建依赖: buildozer==1.5.0
2025-11-19 15:28:31,514 - INFO - 安装构建依赖: python-for-android==2024.1.21
2025-11-19 15:28:32,895 - INFO - 安装构建依赖: importlib-metadata==4.8.3
2025-11-19 15:28:34,157 - INFO - 安装构建依赖: Cython==0.29.33
2025-11-19 15:28:35,677 - INFO - 从requirements.txt安装应用依赖
2025-11-19 15:28:37,247 - INFO - Python依赖安装成功
2025-11-19 15:28:37,247 - INFO - 步骤完成: 安装Python依赖
2025-11-19 15:28:37,248 - INFO - 执行: 设置环境变量
2025-11-19 15:28:37,248 - INFO - ===== 设置环境变量 =====
2025-11-19 15:28:37,248 - INFO - JAVA_HOME: /usr/lib/jvm/java-11-openjdk-amd64
2025-11-19 15:28:37,249 - INFO - ANDROID_HOME: ./android-sdk
2025-11-19 15:28:37,249 - INFO - 步骤完成: 设置环境变量
2025-11-19 15:28:37,249 - INFO - 执行: 构建APK
2025-11-19 15:28:37,249 - INFO - ===== 开始构建APK =====
2025-11-19 15:28:37,250 - INFO - 执行命令: p4a apk --name SalaryCalculator --package org.test.salarycalculator --version 1.0 --orientation portrait --window fullscreen --private . --output-dir output --arch armeabi-v7a --sdk-dir ./android-sdk --ndk-dir ./android-ndk --ndk-api 28 --sdk-version 28 --log-level 2 --requirements kivy==2.3.0,certifi==2023.7.22,pyjnius==1.6.1,openpyxl==3.1.2,pandas==2.0.3,matplotlib==3.7.2,reportlab==3.6.12,requests==2.31.0,numpy==1.24.4
2025-11-19 16:21:15,745 - INFO - 构建完成，耗时: 3158.49 秒
2025-11-19 16:21:15,747 - ERROR - APK构建失败，返回码: 1
2025-11-19 16:21:15,748 - ERROR - 步骤失败: 构建APK
